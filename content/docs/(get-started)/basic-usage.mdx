---
title: Basic Usage
description: Learn how to use the plugin.
icon: Code
---

# Creating an invite

To invite a user to our application, we need to create an invite. We can create a public or private invite:
- If the invite has an **email** the user will get an invite email and the invite will be **private**, meaning only that user can use that invite.
- But if no email is present when creating the invite, the invite will be **public**, and the user that created the invite will receive the invite url or token to share.

<APIMethod path="/create-invite" method="POST" requireSession note="All parameters default to the plugin's options defaults, except for role and email.">
```ts
type CreateInviteBody = {
	/**
	 * The role to give the invited user.
	 */
	role: string
	/**
	 * The email address of the user to send a invitation email to.
	 */
	email?: string // If email is present, the invite is private
	/**
	 * Type of token to use, 24 character token,
	 * 6 digit code or custom options.generateToken.
   * @default options.defaultTokenType
	 */
	tokenType?: "token" | "code" | "custom"
	/**
	 * The URL to redirect the user to create their account.
	 * If the token isn't valid or expired, it'll be redirected with a query parameter
	 * `?error=INVALID_TOKEN`.
	 * If the token is valid, it'll be redirected with a query parameter
	 * `?token=VALID_TOKEN`.
   * 
   * @default options.defaultRedirectTo
	 */
	redirectToSignUp?: string
	/**
	 * The URL to redirect the user to upgrade their role.
   * If the token isn't valid or expired, it'll be redirected with a query parameter
	 * `?error=INVALID_TOKEN`.
	 * If the token is valid, it'll be redirected with a query parameter
	 * `?token=VALID_TOKEN`.
   * 
   * @default options.defaultRedirectToSignIn
	 */
	redirectToSignIn?: string
	/**
	 * The number of times an invitation can be used.
   * 
   * @default options.defaultMaxUses
	 */
	maxUses?: number
	/**
	 * Number of seconds the invitation token is valid for.
   * 
   * @default options.invitationTokenExpiresIn
	 */
	expiresIn?: number
	/**
	 * The URL to redirect the user to after upgrading their role
	 * (if the user is already logged in).
   * 
   * @default options.defaultRedirectAfterUpgrade
	 */
	redirectToAfterUpgrade?: string
	/**
	 * Whether the inviter's name should be shared with the invitee.
	 *
	 * When enabled, the person receiving the invitation will see
	 * the name of the user who created the invitation.
   * 
   * @default options.defaultShareInviterName
	 */
	shareInviterName?: boolean
	/**
	 * How should the sender receive the token.
	 * (sender only receives a token if no email is provided)
   * 
   * @default options.defaultSenderResponse
	 */
	senderResponse?: "token" | "url"
	/**
	 * Where should we redirect the user?
	 * (only if no email is provided)
   * 
   * @default options.defaultSenderResponseRedirect
	 */
	senderResponseRedirect?: "signUp" | "signIn"
}
```
</APIMethod>

# Activating an invite

<APIMethod path="/activate-invite" method="POST" requireSession>
```ts
type CreateInviteBody = {
	/**
	 * The role to give the invited user.
	 */
	role: string
	/**
	 * The email address of the user to send a invitation email to.
	 */
	email?: string // If email is present, the invite is private
	/**
	 * Type of token to use, 24 character token,
	 * 6 digit code or custom options.generateToken.
   * @default options.defaultTokenType
	 */
	tokenType?: "token" | "code" | "custom"
	/**
	 * The URL to redirect the user to create their account.
	 * If the token isn't valid or expired, it'll be redirected with a query parameter
	 * `?error=INVALID_TOKEN`.
	 * If the token is valid, it'll be redirected with a query parameter
	 * `?token=VALID_TOKEN`.
   * 
   * @default options.defaultRedirectTo
	 */
	redirectToSignUp?: string
	/**
	 * The URL to redirect the user to upgrade their role.
   * If the token isn't valid or expired, it'll be redirected with a query parameter
	 * `?error=INVALID_TOKEN`.
	 * If the token is valid, it'll be redirected with a query parameter
	 * `?token=VALID_TOKEN`.
   * 
   * @default options.defaultRedirectToSignIn
	 */
	redirectToSignIn?: string
	/**
	 * The number of times an invitation can be used.
   * 
   * @default options.defaultMaxUses
	 */
	maxUses?: number
	/**
	 * Number of seconds the invitation token is valid for.
   * 
   * @default options.invitationTokenExpiresIn
	 */
	expiresIn?: number
	/**
	 * The URL to redirect the user to after upgrading their role
	 * (if the user is already logged in).
   * 
   * @default options.defaultRedirectAfterUpgrade
	 */
	redirectToAfterUpgrade?: string
	/**
	 * Whether the inviter's name should be shared with the invitee.
	 *
	 * When enabled, the person receiving the invitation will see
	 * the name of the user who created the invitation.
   * 
   * @default options.defaultShareInviterName
	 */
	shareInviterName?: boolean
	/**
	 * How should the sender receive the token.
	 * (sender only receives a token if no email is provided)
   * 
   * @default options.defaultSenderResponse
	 */
	senderResponse?: "token" | "url"
	/**
	 * Where should we redirect the user?
	 * (only if no email is provided)
   * 
   * @default options.defaultSenderResponseRedirect
	 */
	senderResponseRedirect?: "signUp" | "signIn"
}
```
</APIMethod>